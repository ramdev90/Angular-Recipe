import{a as D,b as v}from"./chunk-NB546ZQN.js";import{A as g,Aa as P,B as a,C as b,E as x,F as E,G as w,H as _,I as m,J as M,L as V,N as F,O as N,aa as k,ca as L,ea as T,fa as O,ha as j,ja as q,ka as A,l as I,la as Q,n as f,o as y,p as d,q as l,qa as R,s as p,t as h,ta as $,v as S,va as G,w as c,x as o,y as r,z as u}from"./chunk-2UBTGTCX.js";var X=["f"];function Y(t,C){if(t&1){let e=g();o(0,"button",13),a("click",function(){d(e);let n=b();return l(n.onDelete())}),m(1,"Delete"),r()}}var z=(()=>{class t{constructor(e){this.slService=e,this.editMode=!1}ngOnInit(){this.subscription=this.slService.startedEditing.subscribe(e=>{this.editedItemIndex=e,this.editMode=!0,this.editedItem=this.slService.getIngredient(e),this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onSubmit(e){let i=e.value,n=new D(i.name,i.amount);this.editMode?this.slService.updateIngredient(this.editedItemIndex,n):this.slService.addIngredient(n),this.editMode=!1,e.reset()}onClear(){this.slForm.reset(),this.editMode=!1}onDelete(){this.slService.deleteIngredient(this.editedItemIndex),this.onClear()}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(v))}}static{this.\u0275cmp=f({type:t,selectors:[["app-shopping-edit"]],viewQuery:function(i,n){if(i&1&&x(X,5),i&2){let s;E(s=w())&&(n.slForm=s.first)}},decls:20,vars:3,consts:[["f","ngForm"],[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,n){if(i&1){let s=g();o(0,"div",1)(1,"div",2)(2,"form",3,0),a("ngSubmit",function(){d(s);let J=_(3);return l(n.onSubmit(J))}),o(4,"div",1)(5,"div",4)(6,"label",5),m(7,"Name"),r(),u(8,"input",6),r(),o(9,"div",7)(10,"label",8),m(11,"Amount"),r(),u(12,"input",9),r()(),o(13,"div",1)(14,"div",2)(15,"button",10),m(16),r(),S(17,Y,2,0,"button",11),o(18,"button",12),a("click",function(){return d(s),l(n.onClear())}),m(19,"Clear"),r()()()()()()}if(i&2){let s=_(3);p(15),c("disabled",!s.valid),p(),M(n.editMode?"Update":"Add"),p(),c("ngIf",n.editMode)}},dependencies:[A,L,Q,T,O,R,$,q,j,N]})}}return t})();function ee(t,C){if(t&1){let e=g();o(0,"a",4),a("click",function(){let n=d(e).index,s=b();return l(s.onEditItem(n))}),m(1),r()}if(t&2){let e=C.$implicit;p(),V(" ",e.name," (",e.amount,") ")}}var B=(()=>{class t{constructor(e){this.slService=e}ngOnInit(){this.ingredients=this.slService.getIngredients(),this.subscription=this.slService.ingredientsChanged.subscribe(e=>{this.ingredients=e})}onEditItem(e){this.slService.startedEditing.next(e)}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(h(v))}}static{this.\u0275cmp=f({type:t,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1),u(2,"app-shopping-edit")(3,"hr"),o(4,"ul",2),S(5,ee,2,2,"a",3),r()()()),i&2&&(p(5),c("ngForOf",n.ingredients))},dependencies:[F,z]})}}return t})();var le=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=y({type:t})}static{this.\u0275inj=I({imports:[G,k.forChild([{path:"",component:B}]),P]})}}return t})();export{le as a};
